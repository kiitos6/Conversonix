<div class="main-box">
  <mat-action-list>
    <mat-icon class="search-icon">search</mat-icon>
    <mat-form-field class="search-box" mat-list-item>
      <input #searchBox matInput type="text" placeholder="Search..." [(ngModel)]="value" (input)="filterCurrencies(searchBox.value)">
      <button mat-button *ngIf="value" matSuffix mat-icon-button aria-label="Clear" (click)="value=''">
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
    <h3 mat-subheader>
      Base currency
    </h3>
      <button mat-list-item>
        <img matListAvatar src="assets/images/{{base}}.png" alt="{{base}}" />
        <h4 class="text-left" mat-line>{{ base }}</h4>
        <p class="text-left" mat-line> {{ currenciesData[base]? currenciesData[base]['name'] : 'Coin'}}</p>
        <p> {{ 1 | number:'1.2-2' }}{{ currenciesData[base] ? currenciesData[base]['symbol_native']
          : '€' }}</p>
        <mat-divider inset></mat-divider>
      </button>

      <h3 mat-subheader *ngIf="favListToShow">
        Favorites
      </h3>
        <div *ngFor="let rate of currencyFavList | keyvalue">
          <button mat-list-item (click)="actionSelect(rate.key, rate.value)" *ngIf="rate.key !== base">
            <img matListAvatar src="assets/images/{{rate.key}}.png" alt="{{rate.key}}" />
            <h4 class="text-left" mat-line>{{ rate.key }}</h4>
            <p class="text-left" mat-line> {{ currenciesData[rate.key]? currenciesData[rate.key]['name'] : 'Coin'}}</p>
            <p> {{ rate.value | number:'1.2-2' }}{{ currenciesData[rate.key] ? currenciesData[rate.key]['symbol_native']
              : '€' }}</p>
            <mat-divider inset></mat-divider>
          </button>
        </div>
      <h3 mat-subheader>
        Currencies
      </h3>
      <div *ngFor="let rate of filteredArrayList">
        <button mat-list-item (click)="actionSelect(rate.currency, rate.value)" *ngIf="!currencyFavList.has(rate.currency) && rate.currency !== base">
          <img matListAvatar src="assets/images/{{rate.currency}}.png" alt="{{rate.currency}}" />
          <h4 class="text-left" mat-line>{{ rate.currency }}</h4>
          <p class="text-left" mat-line> {{ currenciesData[rate.currency]? currenciesData[rate.currency]['name'] : 'Coin'}}</p>
          <p> {{ rate.value | number:'1.2-2' }}{{ currenciesData[rate.currency] ?
            currenciesData[rate.currency]['symbol_native'] : '€' }}</p>
          <mat-divider inset></mat-divider>
        </button>
      </div>
  </mat-action-list>
  <mat-spinner *ngIf="loader"></mat-spinner>
</div>